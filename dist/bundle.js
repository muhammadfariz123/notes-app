(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var r={},i=[],s=0;s<e.length;s++){var d=e[s],c=o.base?d[0]+o.base:d[0],l=r[c]||0,u="".concat(c," ").concat(l);r[c]=l+1;var p=n(u),m={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var f=a(m,o);o.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var r=o(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<r.length;i++){var s=n(r[i]);t[s].references--}for(var d=o(e,a),c=0;c<r.length;c++){var l=n(r[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}r=d}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,a,r){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);o&&i[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},365:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(601),a=n.n(o),r=n(314),i=n.n(r)()(a());i.push([e.id,"body {\n  font-family: Arial, sans-serif;\n  margin: 0;\n  padding: 20px;\n  background-color: #f5f5f5;\n  text-align: center;\n}\n\nh1 {\n  margin-bottom: 20px;\n}\n\n#loading {\n  display: none;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  padding: 10px;\n  border-radius: 5px;\n}\n\nnote-form {\n  display: block;\n  max-width: 500px;\n  margin: 0 auto 20px;\n  padding: 15px;\n  background: white;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\ninput,\ntextarea {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n\nbutton {\n  padding: 10px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #0056b3;\n}\n\nnote-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 15px;\n  padding: 20px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\nnote-item {\n  background: white;\n  padding: 15px;\n  border-radius: 8px;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n  text-align: left;\n}\n\n.note h3 {\n  margin: 0 0 10px;\n  font-size: 18px;\n}\n\n.note p {\n  font-size: 14px;\n  color: #555;\n}\n\n.note small {\n  display: block;\n  margin-top: 10px;\n  font-size: 12px;\n  color: #888;\n}\n",""]);const s=i},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,a&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={id:o,exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var o=n(72),a=n.n(o),r=n(825),i=n.n(r),s=n(659),d=n.n(s),c=n(56),l=n.n(c),u=n(540),p=n.n(u),m=n(113),f=n.n(m),h=n(365),b={};function v(){document.getElementById("loading").style.display="block"}function g(){document.getElementById("loading").style.display="none"}b.styleTagTransform=f(),b.setAttributes=l(),b.insert=d().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=p(),a()(h.A,b),h.A&&h.A.locals&&h.A.locals;class y extends HTMLElement{constructor(){super()}connectedCallback(){this.render(),this.querySelector("#add-note").addEventListener("click",(()=>this.addNote()))}async addNote(){const e=this.querySelector("#note-title").value.trim(),t=this.querySelector("#note-body").value.trim();if(e&&t)try{v();const n=await fetch("https://notes-api.dicoding.dev/v2/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,body:t})}),o=await n.json();if("success"!==o.status)throw new Error(o.message);this.querySelector("#note-title").value="",this.querySelector("#note-body").value="",document.dispatchEvent(new Event("noteAdded"))}catch(e){alert("Gagal menambahkan catatan: "+e.message)}finally{g()}else alert("Judul dan isi catatan tidak boleh kosong!")}render(){this.innerHTML='\n      <div class="note-form">\n        <input type="text" id="note-title" placeholder="Judul catatan" />\n        <textarea id="note-body" placeholder="Isi catatan"></textarea>\n        <button id="add-note">Tambah Catatan</button>\n      </div>\n    '}}customElements.get("note-form")||customElements.define("note-form",y);class x extends HTMLElement{constructor(){super()}connectedCallback(){this.render()}render(){this.innerHTML=`\n      <div class="note">\n        <h3>${this.getAttribute("title")}</h3>\n        <p>${this.getAttribute("body")}</p>\n        <small>Created At: ${new Date(this.getAttribute("createdAt")).toLocaleString()}</small>\n        <br/>\n        <button class="delete-button">Hapus</button>\n      </div>\n    `,this.querySelector(".delete-button").addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("deleteNote",{bubbles:!0,detail:{id:this.getAttribute("id")}}))}))}}customElements.get("note-item")||customElements.define("note-item",x);class E extends HTMLElement{constructor(){super(),this.notes=[]}set notesData(e){this.notes=e,this.render()}connectedCallback(){this.render()}render(){this.innerHTML="",this.notes.forEach((e=>{const t=document.createElement("note-item");t.setAttribute("id",e.id),t.setAttribute("title",e.title),t.setAttribute("body",e.body),t.setAttribute("createdAt",e.createdAt),t.addEventListener("deleteNote",(e=>{this.dispatchEvent(new CustomEvent("noteDeleted",{detail:e.detail,bubbles:!0}))})),this.appendChild(t)}))}}async function w(){try{v();const e=await fetch("https://notes-api.dicoding.dev/v2/notes"),t=await e.json();if("success"!==t.status)throw new Error(t.message);document.querySelector("note-list").notesData=t.data}catch(e){alert(`Gagal mengambil data: ${e.message}`)}finally{g()}}customElements.get("note-list")||customElements.define("note-list",E),document.addEventListener("DOMContentLoaded",(async()=>{const e=document.getElementById("app"),t=document.createElement("note-form"),n=document.createElement("note-list");e.querySelector("note-form")||e.appendChild(t),e.querySelector("note-list")||e.appendChild(n),await w(),document.addEventListener("noteAdded",w),document.addEventListener("noteDeleted",(async e=>{await async function(e){try{v();const t=await fetch(`https://notes-api.dicoding.dev/v2/notes/${e}`,{method:"DELETE"}),n=await t.json();if("success"!==n.status)throw new Error(n.message);await w()}catch(e){alert(`Gagal menghapus catatan: ${e.message}`)}finally{g()}}(e.detail.id)}))}))})();